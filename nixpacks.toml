[phases.setup]
# Vite requires >=20.19; Railway default nodejs_20 is too old (20.18.x).
# Use Node 22 to satisfy both Vite and future builds.
nixPkgs = ["nodejs_22"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
cmd = "node server/index.js"
